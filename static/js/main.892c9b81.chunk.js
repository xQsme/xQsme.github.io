(this.webpackJsonppaulo=this.webpackJsonppaulo||[]).push([[0],{121:function(e,t,a){},149:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(4),r=a(0),i=a.n(r),c=a(10),s=a.n(c),o=(a(121),a(24)),l=a(25),u=a(28),d=a(27),b=a(67),j=a(96),h=a(38),p=(a(127),a(21)),v=a(97),f=a(98),m=a(57),O=a(99),g=a.n(O),x=a(17),C={username:"",password:"",isAuthenticated:!1};var y=f.composeWithDevTools||p.compose,w=[v.a],A={key:"root",storage:g.a,debug:!1,blacklist:[]},N=Object(m.b)(A,{auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0,a=t.type,n=t.payload;switch(a){case m.a:return n&&n.auth?Object(x.a)({},n.auth):e;case"login":return Object(x.a)(Object(x.a)({},n),{},{isAuthenticated:!0});case"logout":return Object(x.a)({},C);default:return e}}}),k=a(33),D=a.n(k),T=a(46),S=a(23),P=a.n(S),L=function(e){return{type:"login",payload:e}},I="http://12.205.81.230:10021",q=function(e){P.a.interceptors.request.use((function(t){var a=e.getState().auth,n=a.username,r=a.password,i=a.isAuthenticated,c=btoa("".concat(n,":").concat(r)),s=t;return i&&(s.headers.Authorization="Basic ".concat(c)),s}),(function(e){return Promise.reject(e)}))},B=function(e){P.a.interceptors.response.use((function(e){return e}),(function(t){return t&&t.response&&t.response.config?(401===t.response.status&&e.dispatch({type:"logout"}),Promise.reject(t)):Promise.reject(t)}))},E=function(){var e=Object(T.a)(D.a.mark((function e(t){return D.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:P.a.create({withCredentials:!0}),q(t),B(t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),F=(a(149),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).submitLogin=function(t){(0,e.props.dispatchRequestLogin)(t)},e.submitLogout=function(){(0,e.props.dispatchRequestLogout)()},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.props,t=e.children,a=e.username,r=e.password,i=e.isAuthenticated;return Object(n.jsx)(M,{value:{username:a,password:r,isAuthenticated:i,submitLogin:this.submitLogin,submitLogout:this.submitLogout},children:t})}}]),a}(r.Component)),Y=Object(b.b)((function(e){return{username:e.auth.username,password:e.auth.password,isAuthenticated:e.auth.isAuthenticated}}),(function(e){return{dispatchRequestLogin:function(t){return e(function(e){return function(){var t=Object(T.a)(D.a.mark((function t(a){var n,r,i;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n=e.username,r=e.password,i=btoa("".concat(n,":").concat(r)),t.next=5,P.a.get(I+"/web/services/z1fr022/comp",{headers:{Authorization:"Basic ".concat(i),Comp:"DV"}});case 5:if(200===t.sent.status){t.next=10;break}return h.b.error("Invalid Credentials"),t.abrupt("return");case 10:a(L(e)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.log(t.t0);case 16:case"end":return t.stop()}}),t,null,[[0,13]])})));return function(e){return t.apply(this,arguments)}}()}(t))},dispatchRequestLogout:function(){return e((function(e){e({type:"logout"})}))}}}))(F),H={username:"",password:"",isAuthenticated:!1,submitLogin:function(){},submitLogout:function(){}},R=Object(r.createContext)(H),M=R.Provider,z=R.Consumer,K=function(e){return function(t){return Object(n.jsx)(Y,{children:Object(n.jsx)(z,{children:function(a){return Object(n.jsx)(e,Object(x.a)(Object(x.a)({},t),a))}})})}},U=a(30),V=a(203),J=a(191),Q=a(103),X=a.n(Q),G=a(102),W=a.n(G),Z=a(68),$=a.n(Z),_=a(69),ee=a.n(_),te=a(194),ae=a(104),ne=a.n(ae),re=a(196),ie=a(200),ce=a(199),se=a(195),oe=a(197),le=a(198),ue=a(190),de=a(100),be=a(16),je=a(204),he=a(62),pe=a.n(he),ve=a(101),fe=a.n(ve),me=a(207),Oe=a(193),ge=a(192),xe=a(202),Ce=a(201);function ye(){return Object(n.jsx)("div",{className:"spinner",children:Object(n.jsxs)("div",{className:"lds-roller",children:[Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{}),Object(n.jsx)("div",{})]})})}var we=pe()(),Ae={company:"",documentNr:"",documentDate:we,accountPeriod:Number(we.format("YYYYMM")),interfaceType:"",preparedBy:"",submitting:!1,linesCreated:0,interfaceKey:"",validCompany:void 0,validInterface:void 0,validPrepared:void 0,table:[["","","","","","","","","","","","",""],["","","","","","","","","","","","",""],["","","","","","","","","","","","",""]],tableHeaders:[{label:"Accounting Period",value:"ACCPERIOD"},{label:"ACCNT(5)",value:"ACC1"},{label:"DPT(3)",value:"ACC2"},{label:"CUST(4)",value:"ACC3"},{label:"BRND(4)",value:"ACC4"},{label:"SBBR(4)",value:"ACC5"},{label:"FUT",value:"ACC6"},{label:"FUT2",value:"ACC7"},{label:"FUT3",value:"ACC8"},{label:"Debit Amt",value:"DEBAMT"},{label:"Credit Amt",value:"CREAMT"},{label:"Quantity",value:"QTY"},{label:"Text",value:"TEXT"}],loggingOut:!1},Ne=K(function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state=Ae,e.onSelectDay=function(t){e.setState({documentDate:t})},e.handleChange=function(t){var a,n=e.state,r=n.validCompany,i=n.validInterface,c=n.validPrepared,s=t.target,o=s.name,l=s.value;switch(o){case"company":r=void 0;break;case"interfaceType":i=void 0;break;case"preparedBy":c=void 0}e.setState(Object(x.a)(Object(x.a)({},e.state),{},(a={},Object(U.a)(a,o,l),Object(U.a)(a,"validCompany",r),Object(U.a)(a,"validInterface",i),Object(U.a)(a,"validPrepared",c),a)))},e.submit=Object(T.a)(D.a.mark((function t(){var a,n,r,i,c,s,o,l,u,d,b,j,p,v,f,m,O,g,x,C,y;return D.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=e.state,n=a.company,r=a.interfaceType,i=a.preparedBy,c=a.table,s=a.tableHeaders,o=a.interfaceKey,l=a.documentNr,u=a.documentDate,d=a.accountPeriod,e.setState({submitting:!0,validCompany:void 0,validInterface:void 0,validPrepared:void 0}),b=!1,j=!1,p=!1,t.prev=5,t.next=8,P.a.get(I+"/web/services/z1fr022/comp",{headers:{Comp:n}});case 8:v=t.sent,b="Y"===v.data.VALID,t.next=14;break;case 12:t.prev=12,t.t0=t.catch(5);case 14:return e.setState({validCompany:b}),t.prev=15,t.next=18,P.a.get(I+"/web/services/z1fr023/inttype",{headers:{Comp:n,IntType:r}});case 18:f=t.sent,j="Y"===f.data.VALID,t.next=24;break;case 22:t.prev=22,t.t1=t.catch(15);case 24:return e.setState({validInterface:j}),t.prev=25,t.next=28,P.a.get(I+"/web/services/z1fr024/user",{headers:{Comp:n,User:i}});case 28:m=t.sent,p="Y"===m.data.VALID,t.next=34;break;case 32:t.prev=32,t.t2=t.catch(25);case 34:if(e.setState({validPrepared:p}),b&&j&&p){t.next=39;break}return h.b.error("Invalid Fields"),e.setState({submitting:!1}),t.abrupt("return");case 39:return O=[],c.forEach((function(e){return e.forEach((function(e,t){O.push(Object(U.a)({},s[t].value,e))}))})),g={InterfaceKey:o,coitus:n+r+i,dodtpe:l+u.format("YYYYMMDD")+d},t.prev=42,t.next=45,P.a.post(I+"/web/services/z1fs020/interface",O,{headers:g});case 45:x=t.sent,C=(new fe.a).parseFromString(x.data),y=C.children.find((function(e){return"INDEX"===e.name})),e.setState({linesCreated:y.value}),h.b.success("".concat(y.value," Line").concat(1!==y?"s":""," Created")),t.next=55;break;case 52:t.prev=52,t.t3=t.catch(42),h.b.error("Error Submitting Data");case 55:e.setState({submitting:!1});case 56:case"end":return t.stop()}}),t,null,[[5,12],[15,22],[25,32],[42,52]])}))),e.logout=function(){(0,e.props.submitLogout)()},e.onHeaderChange=function(t,a){var n=e.state.tableHeaders;n[a]=t.target.value,e.setState({tableHeaders:n})},e.onTableChange=function(t,a,n){var r=e.state.table;r[a][n]=t.target.value,e.setState({table:r})},e.onTablePaste=function(t,a,n){t.preventDefault();var r=e.state,i=r.table,c=r.tableHeaders,s=t.clipboardData.getData("Text").split("\n");(s=s.map((function(e){return e.split("\t")}))).forEach((function(e,t){e.some((function(e){return""!==e}))&&e.forEach((function(e,r){void 0===i[a+t]&&(i[a+t]=c.map((function(e){return""}))),i[a+t][n+r]=e}))})),e.setState({table:i})},e.addRow=function(){var t=e.state,a=t.tableHeaders,n=t.table,r=[];a.forEach((function(e){r.push("")})),n.push(r),e.setState({table:n})},e.removeRow=function(){var t=e.state.table;t.length>1&&(t.pop(),e.setState({table:t}))},e.totalDebits=function(){var t=e.state,a=t.tableHeaders,n=t.table,r=0,i=a.findIndex((function(e){return"Debit Amt"===e.label}));return-1!==i&&n.forEach((function(e){isNaN(Number(e[i]))||(r+=Number(e[i]))})),r},e.totalCredits=function(){var t=e.state,a=t.tableHeaders,n=t.table,r=0,i=a.findIndex((function(e){return"Credit Amt"===e.label}));return-1!==i&&n.forEach((function(e){isNaN(Number(e[i]))||(r+=Number(e[i]))})),r},e}return Object(l.a)(a,[{key:"renderHeader",value:function(){var e=this.state,t=e.company,a=e.documentNr,r=e.documentDate,i=e.accountPeriod,c=e.interfaceType,s=e.preparedBy,o=e.validCompany,l=e.validPrepared,u=e.validInterface,d=e.submitting;return Object(n.jsxs)("div",{className:"header-info",children:[void 0!==o?Object(n.jsx)(V.a,{disabled:d,required:!0,label:"Company",value:t,onChange:this.handleChange,name:"company",variant:"filled",InputProps:{endAdornment:Object(n.jsx)(J.a,{position:"end",children:o?Object(n.jsx)($.a,{className:"check"}):Object(n.jsx)(ee.a,{className:"cross"})})}}):Object(n.jsx)(V.a,{disabled:d,required:!0,label:"Company",value:t,onChange:this.handleChange,name:"company",variant:"filled"}),Object(n.jsx)(V.a,{disabled:d,required:!0,label:"Document No",value:a,onChange:this.handleChange,name:"documentNr",variant:"filled"}),Object(n.jsx)(be.a,{utils:de.a,children:Object(n.jsx)(je.a,{disableToolbar:!0,disabled:d,variant:"inline",format:"MM-DD-yyyy",id:"date-picker-inline",label:"Document Date",value:r,onChange:this.onSelectDay,KeyboardButtonProps:{"aria-label":"change date"},required:!0,inputVariant:"filled"})}),Object(n.jsx)(V.a,{disabled:d,required:!0,label:"Accounting Period",value:i,onChange:this.handleChange,name:"accountPeriod",variant:"filled",type:"number"}),void 0!==u?Object(n.jsx)(V.a,{disabled:d,required:!0,label:"Interface Type",value:c,onChange:this.handleChange,name:"interfaceType",variant:"filled",InputProps:{endAdornment:Object(n.jsx)(J.a,{position:"end",children:u?Object(n.jsx)($.a,{className:"check"}):Object(n.jsx)(ee.a,{className:"cross"})})}}):Object(n.jsx)(V.a,{disabled:d,required:!0,label:"Interface Type",value:c,onChange:this.handleChange,name:"interfaceType",variant:"filled"}),void 0!==l?Object(n.jsx)(V.a,{disabled:d,required:!0,label:"Prepared By",value:s,onChange:this.handleChange,name:"preparedBy",variant:"filled",InputProps:{endAdornment:Object(n.jsx)(J.a,{position:"end",children:l?Object(n.jsx)($.a,{className:"check"}):Object(n.jsx)(ee.a,{className:"cross"})})}}):Object(n.jsx)(V.a,{disabled:d,required:!0,label:"Prepared By",value:s,onChange:this.handleChange,name:"preparedBy",variant:"filled"})]})}},{key:"renderSideContent",value:function(){var e=this.state,t=e.submitting,a=e.linesCreated,r=e.interfaceKey;return Object(n.jsxs)("div",{className:"side-content",children:[Object(n.jsxs)("div",{className:"left-container",children:[Object(n.jsx)(te.a,{variant:"contained",color:"primary",onClick:this.submit,disabled:t,children:"Upload GL Journal"}),Object(n.jsx)(V.a,{label:"Lines Created",value:a,variant:"filled",disabled:!0}),t&&Object(n.jsx)(ye,{})]}),Object(n.jsxs)("div",{className:"right-container",children:[Object(n.jsx)(V.a,{name:"interfaceKey",disabled:t,required:!0,value:r,label:"Interface Key",onChange:this.handleChange,variant:"filled"}),Object(n.jsx)(se.a,{component:ue.a,children:Object(n.jsxs)(re.a,{children:[Object(n.jsx)(oe.a,{children:Object(n.jsxs)(le.a,{children:[Object(n.jsx)(ce.a,{align:"center",children:"Total Debits"}),Object(n.jsx)(ce.a,{align:"center",children:"Total Credits"})]})}),Object(n.jsxs)(ie.a,{children:[Object(n.jsxs)(le.a,{children:[Object(n.jsx)(ce.a,{align:"center",children:this.totalDebits().toFixed(2)}),Object(n.jsx)(ce.a,{align:"center",children:this.totalCredits().toFixed(2)})]}),Object(n.jsxs)(le.a,{children:[Object(n.jsx)(ce.a,{align:"center",children:"Difference"}),Object(n.jsx)(ce.a,{align:"center",children:(this.totalDebits()-this.totalCredits()).toFixed(2)})]})]})]})})]})]})}},{key:"renderTable",value:function(){var e=this,t=this.state,a=t.tableHeaders,r=t.table,i=t.submitting;return Object(n.jsxs)("div",{className:"table-container",children:[Object(n.jsxs)("div",{className:"row-controls",children:[Object(n.jsx)(W.a,{onClick:this.removeRow}),Object(n.jsx)(X.a,{onClick:this.addRow})]}),Object(n.jsx)(se.a,{component:ue.a,className:"input-table",children:Object(n.jsxs)(re.a,{children:[Object(n.jsx)(oe.a,{children:Object(n.jsx)(le.a,{children:a.map((function(e){return Object(n.jsx)(ce.a,{align:"center",children:e.label},e.value)}))})}),Object(n.jsx)(ie.a,{children:r.map((function(t,a){return Object(n.jsx)(le.a,{children:t.map((function(t,r){return Object(n.jsx)(ce.a,{align:"center",children:Object(n.jsx)(V.a,{disabled:i,value:t,onChange:function(t){return e.onTableChange(t,a,r)},onPaste:function(t){return e.onTablePaste(t,a,r)}})},r)}))},a)}))})]})})]})}},{key:"render",value:function(){var e=this,t=this.state.loggingOut;return Object(n.jsxs)(n.Fragment,{children:[Object(n.jsxs)("div",{className:"header-container",children:[this.renderHeader(),this.renderSideContent()]}),this.renderTable(),Object(n.jsx)("div",{className:"logout-container",children:Object(n.jsxs)(te.a,{variant:"contained",color:"primary",onClick:function(){return e.setState({loggingOut:!0})},children:[Object(n.jsx)(ne.a,{}),"Logout"]})}),Object(n.jsxs)(me.a,{open:t,onClose:function(){return e.setState({loggingOut:!1})},"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[Object(n.jsx)(Ce.a,{id:"alert-dialog-title",children:"Log Out?"}),Object(n.jsx)(ge.a,{children:Object(n.jsx)(xe.a,{id:"alert-dialog-description",children:"Area you sure you want to Log Out?"})}),Object(n.jsxs)(Oe.a,{children:[Object(n.jsx)(te.a,{onClick:function(){return e.setState({loggingOut:!1})},color:"primary",children:"No"}),Object(n.jsx)(te.a,{onClick:function(){e.setState({loggingOut:!1}),e.logout()},color:"primary",autoFocus:!0,children:"Yes"})]})]})]})}}]),a}(r.Component)),ke={username:"",password:""},De=K(function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state=ke,e.handleChange=function(t){var a=t.target,n=a.name,r=a.value;e.setState(Object(x.a)(Object(x.a)({},e.state),{},Object(U.a)({},n,r)))},e.login=function(){(0,e.props.submitLogin)(e.state)},e}return Object(l.a)(a,[{key:"render",value:function(){var e=this.state,t=e.username,a=e.password;return Object(n.jsxs)("div",{className:"login-container",children:[Object(n.jsx)(V.a,{required:!0,label:"Username",value:t,onChange:this.handleChange,name:"username",variant:"filled"}),Object(n.jsx)(V.a,{required:!0,label:"Password",value:a,onChange:this.handleChange,name:"password",variant:"filled"}),Object(n.jsx)(te.a,{variant:"contained",color:"primary",onClick:this.login,children:"Login"})]})}}]),a}(r.Component)),Te=K(function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(o.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return this.props.isAuthenticated?Object(n.jsx)(Ne,{}):Object(n.jsx)(De,{})}}]),a}(r.Component)),Se=function(){var e=Object(p.createStore)(N,y(p.applyMiddleware.apply(void 0,w)));return{persistor:Object(m.c)(e,null),store:e}}(),Pe=Se.persistor,Le=Se.store;E(Le);var Ie={},qe=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(o.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).state=Ie,e}return Object(l.a)(a,[{key:"render",value:function(){return Object(n.jsx)(j.a,{persistor:Pe,children:Object(n.jsxs)(b.a,{store:Le,children:[Object(n.jsx)(h.a,{position:"bottom-right"}),Object(n.jsx)(Te,{})]})})}}]),a}(r.Component),Be=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,210)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,i=t.getLCP,c=t.getTTFB;a(e),n(e),r(e),i(e),c(e)}))};s.a.render(Object(n.jsx)(i.a.StrictMode,{children:Object(n.jsx)(qe,{})}),document.getElementById("root")),Be()}},[[153,1,2]]]);
//# sourceMappingURL=main.892c9b81.chunk.js.map